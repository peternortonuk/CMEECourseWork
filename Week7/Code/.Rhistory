knitr::opts_chunk$set(echo = TRUE)
rm(list = ls())
graphics.off()
rm(list = ls())
graphics.off()
Site1 =  c(1:4)
Site2 = c(2:5)
Site3 = c(3:6)
Site4 = c(4:7)
SiteList = list(Site1,Site2,Site3,Site4)
All4 = Reduce(intersect, list(Site1,Site2,Site3,Site4))
combn(SiteList, 3)
?combn
combn(4,3)
combs = combn(4,3)
combs[,1]
combs[,2
]
Site1 =  c(1:4)
Site2 = c(2:5)
Site3 = c(3:6)
Site4 = c(4:7)
Sites = cbind(Site1,Site2,Site3,Site4)
SiteList = list(Site1,Site2,Site3,Site4)
Sites
Sites[,1]
Sites[,2]
selections = combn(4,3)
selections[,1]
selections[,2
]
selections[,3]
selections[,4]
selections[,4][1]
combn(4,1)
combn(4,4)
?Reduce
All4 = Reduce(intersect, list(Site1,Site2,Site3,Site4))
SiteA
combs = combn(4,3)
combs
combs = combn(4,3)
n = length(combs)
Reduce(intersect, list(Site1,Site2,Site3,Site4))
ncols
?ncol
ncol(combs)
combs[,1]
combs
index = combs[,1]
index
index[1]
Sites[index[1]]
Sites
Sites[1]
Sites[,index[1]]
intersect(Sites[,index[1]], Sites[,index[2]])
All4 = Reduce(intersect, list(Site1,Site2,Site3,Site4))
richness = count(All4)
All4 = Reduce(intersect, list(Site1,Site2,Site3,Site4))
richness = length(unique(All4))
combs = combn(4,3)
intersection = vector()
for (i in 1:ncol(combs)){
index = combs[,i]
x =  Reduce(intersect,(Sites[,index[1]]), Sites[,index[2]], Sites[,index[3]])
richness[i] = length(unique(x))
}
combs = combn(4,3)
richness = vector()
for (i in 1:ncol(combs)){
index = combs[,i]
x =  Reduce(intersect,(Sites[,index[1]]), Sites[,index[2]], Sites[,index[3]])
richness[i] = length(unique(x))
}
richness
ncol(combs)
index[,1]
index = combs[,1]
index
x =  Reduce(intersect,(Sites[,index[1]]), Sites[,index[2]], Sites[,index[3]])
x =  Reduce(intersect,lists(Sites[,index[1]]), Sites[,index[2]], Sites[,index[3]])
x =  Reduce(intersect,list(Sites[,index[1]]), Sites[,index[2]], Sites[,index[3]])
Site[,index[1]]
Sites[,index[1]]
combs = combn(4,3)
richness = vector()
for (i in 1:ncol(combs)){
combo = combs[,i]
x =  Reduce(intersect,(Sites[combo[1]]), Sites[combo[2]], Sites[combo[3]])
richness[i] = length(unique(x))
}
richness
combs = combn(4,3)
richness = vector()
for (i in 1:ncol(combs)){
combo = combs[,i]
x =  Reduce(intersect,(Sites[combo[1]]), Sites[combo[2]], Sites[combo[3]])
print(x)
richness[i] = length(unique(x))
}
combs
combo = combs[,1]
x =  Reduce(intersect,(Sites[combo[1]]), Sites[combo[2]], Sites[combo[3]])
x
combo[1]
combo[2]
Sites[1]
Sites[2]
combo[2]
Sites[,combo[2]]
combs = combn(4,3)
richness = vector()
for (i in 1:ncol(combs)){
combo = combs[,i]
x =  Reduce(intersect,(Sites[,combo[1]]), Sites[,combo[2]], Sites[,combo[3]])
print(x)
richness[i] = length(unique(x))
}
Reduce(intersect,(Sites[,combo[1]]), Sites[,combo[2]], Sites[,combo[3]])
combs = combn(4,3)
richness = vector()
for (i in 1:ncol(combs)){
combo = combs[,i]
x =  Reduce(intersect,list(Sites[,combo[1]]), Sites[,combo[2]], Sites[,combo[3]])
print(x)
richness[i] = length(unique(x))
}
Reduce(intersect,list(Sites[,combo[1]]), Sites[,combo[2]], Sites[,combo[3]])
All4 = Reduce(intersect, list(Site1,Site2,Site3,Site4))
richness = length(unique(All4))
Site1
Sites[,combo[1]]
All3 = Reduce(intersect, list(Site1,Site2,Site3))
Site1
combs = combn(4,3)
richness = vector()
for (i in 1:ncol(combs)){
combo = combs[,i]
listofsites = list(Sites[,combo[1]]), Sites[,combo[2]], Sites[,combo[3]])
Reduce(intersect, list(Sites[,combo[1]]), Sites[,combo[2]], Sites[,combo[3]])
listof = list(Sites[,combo[1]]), Sites[,combo[2]], Sites[,combo[3]])
listof = list(c(1,2,2,3),c(2,3,4))
listof
a = Sites[,combo[1]]
a
b = Sites[,combo[2]]
listof = list(a,b)
listof
listof = list(Sites[,combo[2]],Sites[,combo[1]])
listof
listof = list(Sites[,combo[1]]), Sites[,combo[2]], Sites[,combo[3]])
listof = list(Sites[,combo[2]],Sites[,combo[1]])
listof = list(Sites[,combo[3],Sites[,combo[2]],Sites[,combo[1]])
?list
listof = list(Sites[,combo[3]],Sites[,combo[2]],Sites[,combo[1]])
listof
combs = combn(4,3)
richness = vector()
for (i in 1:ncol(combs)){
combo = combs[,i]
x =  Reduce(intersect, list(Sites[,combo[3]],Sites[,combo[2]],Sites[,combo[1]]))
print(x)
richness[i] = length(unique(x))
}
for (i in 1:ncol(combs)){
combo = combs[,i]
x =  Reduce(intersect, list(Sites[,combo[3]],Sites[,combo[2]],Sites[,combo[1]]))
print(x)
richness[i] = length(unique(x))
}
combs
combs = combn(4,2)
combs = combn(4,2)
richness = vector()
for (i in 1:ncol(combs)){
combo = combs[,i]
x =  Reduce(intersect, list(Sites[,combo[3]],Sites[,combo[2]],Sites[,combo[1]]))
print(x)
richness[i] = length(unique(x))
}
combs
combs = combn(4,2)
richness = vector()
for (i in 1:ncol(combs)){
combo = combs[,i]
x =  Reduce(intersect, list(Sites[,combo[1]],Sites[,combo[2]])
print(x)
combs
Sites
ncol(combs)
combo[,1]
combs[,1]
Sites[,combs[,1]]
Sites[,combo[,1]]
Sites[,combo[1]]
richness = vector()
for (i in 1:ncol(combs)){
combo = combs[,i]
x =  Reduce(intersect, list(Sites[,combo[3]],Sites[,combo[2]],Sites[,combo[1]]))
print(x)
richness[i] = length(unique(x))
}
i
combs = combn(4,2)
richness = vector()
for (i in 1:ncol(combs)){
combo = combs[,i]
x =  Reduce(intersect, list(Sites[,combo[1]],Sites[,combo[2]])
print(x)
combs = combn(4,2)
richness = vector()
for (i in 1:ncol(combs)){
combo = combs[,i]
x =  Reduce(intersect, list(Sites[,combo[1]],Sites[,combo[2]]))
print(x)
richness[i] = length(unique(x))
}
All4 = Reduce(intersect, list(Site1,Site2,Site3,Site4))
richness = length(unique(All4))
print(richness)
combs = combn(4,3)
richness = vector()
for (i in 1:ncol(combs)){
combo = combs[,i]
x =  Reduce(intersect, list(Sites[,combo[3]],Sites[,combo[2]],Sites[,combo[1]]))
print(x)
richness[i] = length(unique(x))
print(richness)
}
combs = combn(4,2)
richness = vector()
for (i in 1:ncol(combs)){
combo = combs[,i]
x =  Reduce(intersect, list(Sites[,combo[1]],Sites[,combo[2]]))
print(x)
richness[i] = length(unique(x))
print(richness)
}
combs = combn(4,2)
richness = vector()
for (i in 1:ncol(combs)){
combo = combs[,i]
x =  Reduce(intersect, list(Sites[,combo[1]],Sites[,combo[2]]))
print(x)
richness[i] = length(unique(x))
print(c("richness",richness))
}
combs = combn(4,3)
richness = vector()
for (i in 1:ncol(combs)){
combo = combs[,i]
x =  Reduce(intersect, list(Sites[,combo[3]],Sites[,combo[2]],Sites[,combo[1]]))
print(x)
richness[i] = length(unique(x))
}
print(c("richness", richness)
combs = combn(4,3)
richness = vector()
for (i in 1:ncol(combs)){
combo = combs[,i]
x =  Reduce(intersect, list(Sites[,combo[3]],Sites[,combo[2]],Sites[,combo[1]]))
print(x)
richness[i] = length(unique(x))
}
print(c("richness", richness))
combs = combn(4,2)
richness = vector()
for (i in 1:ncol(combs)){
combo = combs[,i]
x =  Reduce(intersect, list(Sites[,combo[1]],Sites[,combo[2]]))
print(x)
richness[i] = length(unique(x))
}
print(c("richness",richness))
combs = combn(4,2)
richness = vector()
for (i in 1:ncol(combs)){
combo = combs[,i]
x =  Reduce(intersect, list(Sites[,combo[1]],Sites[,combo[2]]))
print(x)
richness[i] = length(unique(x))
}
print(c("richness", richness))
combs = combn(4,2)
richness = vector()
for (i in 1:ncol(combs)){
combo = combs[,i]
x =  Reduce(intersect, list(Sites[,combo[1]],Sites[,combo[2]]))
print(x)
richness[i] = length(unique(x))
}
print(c("richness", richness))
combs = combn(4,3)
richness = vector()
for (i in 1:ncol(combs)){
combo = combs[,i]
x =  Reduce(intersect, list(Sites[,combo[3]],Sites[,combo[2]],Sites[,combo[1]]))
print(x)
richness[i] = length(unique(x))
}
print(c("richness", richness))
combs = combn(4,2)
richness = vector()
for (i in 1:ncol(combs)){
combo = combs[,i]
x =  Reduce(intersect, list(Sites[,combo[1]],Sites[,combo[2]]))
print(x)
richness[i] = length(unique(x))
}
print(c("richness", richness))
richness = nrows(Site2)
richness = lapply(SiteList,nrow)
print(richness)
richness = sapply(SiteList,nrow)
print(richness)
richness = sapply(SiteList,nrow)
print(richness)
richness = lapply(SiteList,nrow)
print(richness)
richness = lapply(SiteList,nrow)
print(richness)
SiteList[1]
nrow(SiteList[1])
nrow(SiteList[[1]]
)
richness = do.call(rbind, lapply(SiteList, function(x) length(x)))
print(richness)
combs = combn(4,3)
richness = vector()
for (i in 1:ncol(combs)){
combo = combs[,i]
x =  Reduce(intersect, list(Sites[,combo[3]],Sites[,combo[2]],Sites[,combo[1]]))
print(x)
richness[i] = length(unique(x))
}
print(c("richness", richness))
zeta = mean(richness)
print(c("z1", zeta)
combs = combn(4,3)
richness = vector()
for (i in 1:ncol(combs)){
combo = combs[,i]
x =  Reduce(intersect, list(Sites[,combo[3]],Sites[,combo[2]],Sites[,combo[1]]))
print(x)
richness[i] = length(unique(x))
}
print(c("richness", richness))
zeta = mean(richness)
print(c("z1", zeta))
All4 = Reduce(intersect, list(Site1,Site2,Site3,Site4))
richness = length(unique(All4))
print(c("richness", richness))
z4 = mean(All4)
print(c("z4", z4))
combs = combn(4,3)
richness = vector()
for (i in 1:ncol(combs)){
combo = combs[,i]
x =  Reduce(intersect, list(Sites[,combo[3]],Sites[,combo[2]],Sites[,combo[1]]))
print(x)
richness[i] = length(unique(x))
}
print(c("richness", richness))
zeta = mean(richness)
print(c("z3", zeta))
combs = combn(4,2)
richness = vector()
for (i in 1:ncol(combs)){
combo = combs[,i]
x =  Reduce(intersect, list(Sites[,combo[1]],Sites[,combo[2]]))
print(x)
richness[i] = length(unique(x))
}
print(c("richness", richness))
z2 = mean(richness)
print(c("z2",z2))
richness = do.call(rbind, lapply(SiteList, function(x) length(x)))
print(richness)
z1 = mean(richness)
print(c("z1", z1))
x = (1:4)
y = c(z1,z2,z3,z4)
combs = combn(4,3)
richness = vector()
for (i in 1:ncol(combs)){
combo = combs[,i]
x =  Reduce(intersect, list(Sites[,combo[3]],Sites[,combo[2]],Sites[,combo[1]]))
print(x)
richness[i] = length(unique(x))
}
print(c("richness", richness))
z3 = mean(richness)
print(c("z3", zeta))
x = (1:4)
y = c(z1,z2,z3,z4)
plot(x,y)
All4 = Reduce(intersect, list(Site1,Site2,Site3,Site4))
richness = length(unique(All4))
print(c("richness", richness))
z4 = (All4)/4
print(c("z4", z4))
x = (1:4)
y = c(z1,z2,z3,z4)
plot(x,y)
?listL
Sites
Site1 =  c(1:4)
Site2 = c(2:5)
Site3 = c(3:6)
Site4 = c(4:7)
Sites = cbind(Site1,Site2,Site3,Site4)
SiteList = list(Site1,Site2,Site3,Site4)
print(Sites)
All4 = Reduce(intersect, list(Site1,Site2,Site3,Site4))
richness = length(unique(All4))
print(c("richness", richness))
z4 = (All4)/4
print(c("z4", z4))
species = melt(Sites)
library(reshape)
species = melt(Sites)
richness = length(unique(species))
z1 = mean(richness)
print(c("z1", z1))
species
head(species)
library(reshape)
species = melt(Sites)
richness = length(unique(species$value))
z1 = mean(richness)
print(c("z1", z1))
unique(species$value)
length(unique(species$value))
7/4
library(reshape)
species = melt(Sites)
richness = length(unique(species$value))
z1 = mean(richness)4
library(reshape)
species = melt(Sites)
richness = length(unique(species$value))
z1 = mean(richness)/4
print(c("z1", z1))
x = (1:4)
y = c(z1,z2,z3,z4)
plot(x,y)
All4 = Reduce(intersect, list(Site1,Site2,Site3,Site4))
richness = length(unique(All4))
print(c("richness", richness))
z4 = (All4)
print(c("z4", z4))
x = (1:4)
y = c(z1,z2,z3,z4)
plot(x,y)
Site1 =  c(1:4)
Site2 = c(2:5)
Site3 = c(3:6)
Site4 = c(4:7)
Sites = cbind(Site1,Site2,Site3,Site4)
SiteList = list(Site1,Site2,Site3,Site4)
print(Sites)
